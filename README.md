# Диктофон (Курсовой проект)

**Автор:** Петров Иван Дмитриевич  
**Группа:** 4ИСИП-322  
**Тема:** Разработка мобильного приложения для голосовой записи

---

## Описание

Мобильное приложение для записи голоса на .NET MAUI.  
Позволяет записывать аудио с микрофона, сохранять записи локально, воспроизводить и удалять их.

## Основные возможности

- ✅ Запись звука с микрофона
- ✅ Сохранение записей (максимум 100 штук)
- ✅ Воспроизведение сохранённых записей
- ✅ Удаление ненужных записей
- ✅ Автоматическое отображение длительности и размера файла

## Технологии

- **.NET MAUI 10** - кроссплатформенный фреймворк для мобильных и десктопных приложений
- **C#** - язык программирования
- **XAML** - разметка интерфейса
- **System.Text.Json** - сериализация данных для хранения метаданных
- **Plugin.AudioRecorder** - библиотека для записи на не-Android платформах
- **Android MediaRecorder/MediaPlayer** - нативные API для Android

## Структура проекта

```
VoiceRecorder_Petrov/
├── MainPage.xaml / .cs           # Главная страница (кнопка записи + список записей)
├── PlayerPage.xaml / .cs         # Страница воспроизведения
├── Services/
│   └── AudioService.cs           # Сервис для работы с записями (сохранение/загрузка/воспроизведение/удаление)
├── Models/
│   └── AudioRecording.cs         # Модель записи (метаданные + форматирование для UI)
├── MauiProgram.cs                # Точка входа приложения
├── App.xaml.cs                   # Настройка окна приложения
└── Platforms/
    └── Android/
        └── AndroidManifest.xml   # Разрешения для Android
```

## Как работает хранение

**Аудиофайлы:**
- Хранятся в папке `AppDataDirectory/Recordings/`
- Формат: `recording_yyyyMMdd_HHmmss.m4a` (Android) или `.wav` (другие платформы)

**Метаданные:**
- Хранятся в JSON файле `AppDataDirectory/recordings.json`
- Содержат: ID, название, путь к файлу, дату создания, длительность, размер

Пример JSON:
```json
[
  {
    "Id": "abc-123",
    "Title": "Запись от 15.12.2025 14:30",
    "FilePath": "/data/.../recording_20251215_143000.m4a",
    "CreatedDate": "2025-12-15T14:30:00",
    "DurationSeconds": 45,
    "FileSizeBytes": 720000
  }
]
```

## Особенности реализации

### Android
- **Запись:** используется `MediaRecorder` (более стабильный, чем плагин)
- **Воспроизведение:** `MediaPlayer` с корректной остановкой
- **Формат:** AAC в контейнере MPEG-4 (.m4a)

### Другие платформы
- **Запись и воспроизведение:** Plugin.AudioRecorder
- **Формат:** WAV

### Ограничения
- Максимум 100 записей (при превышении автоматически удаляется самая старая)
- Простой интерфейс без seek-бара и паузы (только старт/стоп)

## Запуск проекта

1. Откройте решение в **Visual Studio 2022**
2. Выберите целевую платформу (Android / Windows)
3. Нажмите **F5** для запуска

### Требования
- Visual Studio 2022 (17.8+)
- .NET 10 SDK
- Workload: .NET Multi-platform App UI development
- Для Android: Android SDK (API 21+)

## Разрешения

**Android (AndroidManifest.xml):**
- `android.permission.RECORD_AUDIO` - для записи с микрофона

**iOS/MacCatalyst:**
- Микрофон запрашивается автоматически через MAUI Permissions API

## Архитектура

Приложение использует **простую архитектуру Code-Behind** (без MVVM):
- **MainPage** - UI + логика главной страницы
- **PlayerPage** - UI + логика плеера
- **AudioService** - бизнес-логика работы с аудио
- **AudioRecording** - модель данных

Это сделано для упрощения понимания кода в рамках курсового проекта.

## Автор

**Петров Иван Дмитриевич**  
Группа 4ИСИП-322  
Финансовый университет при Правительстве РФ  
2025 год
