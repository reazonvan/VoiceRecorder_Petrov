<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="VoiceRecorder_Petrov.PlayerPage"
             Title="Воспроизведение"
             BackgroundColor="#F5F5F5">

    <Grid RowDefinitions="*,Auto,Auto,Auto,*" Padding="20">

        <!-- Название записи -->
        <VerticalStackLayout Grid.Row="1" 
                             Spacing="10"
                             HorizontalOptions="Center">
            <Label x:Name="TitleLabel" 
                   Text="Запись" 
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#333333"/>
            
            <Label x:Name="DateLabel" 
                   Text="Дата" 
                   FontSize="14"
                   HorizontalOptions="Center"
                   TextColor="#666666"/>
        </VerticalStackLayout>

        <!-- Прогресс бар -->
        <VerticalStackLayout Grid.Row="2" 
                             Spacing="10"
                             Margin="0,30,0,20">
            
            <!-- Слайдер для перемотки -->
            <Slider x:Name="PositionSlider"
                    Minimum="0"
                    Maximum="100"
                    Value="0"
                    MinimumTrackColor="#007AFF"
                    MaximumTrackColor="#DDDDDD"
                    ThumbColor="#007AFF"
                    DragStarted="OnSliderDragStarted"
                    DragCompleted="OnSliderDragCompleted"/>
            
            <!-- Время -->
            <Grid ColumnDefinitions="*,*">
                <Label x:Name="CurrentTimeLabel" 
                       Text="00:00" 
                       FontSize="14"
                       HorizontalOptions="Start"
                       TextColor="#666666"/>
                
                <Label x:Name="TotalTimeLabel" 
                       Text="00:00" 
                       FontSize="14"
                       Grid.Column="1"
                       HorizontalOptions="End"
                       TextColor="#666666"/>
            </Grid>
        </VerticalStackLayout>

        <!-- Кнопки управления -->
        <HorizontalStackLayout Grid.Row="3" 
                               Spacing="20"
                               HorizontalOptions="Center"
                               Margin="0,20">
            
            <!-- Play/Pause -->
            <Border WidthRequest="80"
                    HeightRequest="80"
                    BackgroundColor="#007AFF"
                    StrokeThickness="0">
                <Border.StrokeShape>
                    <RoundRectangle CornerRadius="40"/>
                </Border.StrokeShape>
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnPlayPauseTapped"/>
                </Border.GestureRecognizers>
                
                <Grid>
                    <!-- Иконка Play -->
                    <Label x:Name="PlayIcon"
                           Text="▶"
                           FontSize="36"
                           TextColor="White"
                           IsVisible="True"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"
                           Margin="3,0,0,0"/>
                    
                    <!-- Иконка Pause -->
                    <Label x:Name="PauseIcon"
                           Text="⏸"
                           FontSize="36"
                           TextColor="White"
                           IsVisible="False"
                           HorizontalOptions="Center"
                           VerticalOptions="Center"/>
                </Grid>
            </Border>
        </HorizontalStackLayout>

        <!-- Кнопка закрыть -->
        <Button Grid.Row="4"
                Text="Закрыть"
                FontSize="16"
                BackgroundColor="#FF3B30"
                TextColor="White"
                CornerRadius="10"
                HeightRequest="50"
                VerticalOptions="End"
                Margin="0,40,0,0"
                Clicked="OnCloseClicked"/>

    </Grid>

</ContentPage>
